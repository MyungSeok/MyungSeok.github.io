<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 5 객체 생성 | 🌟 Sudal&#39;s gram</title>
    <meta name="description" content="정리공간">
    
    
    <link rel="preload" href="/assets/css/0.styles.128f439c.css" as="style"><link rel="preload" href="/assets/js/app.0531fef3.js" as="script"><link rel="preload" href="/assets/js/3.cdfcd112.js" as="script"><link rel="preload" href="/assets/js/145.1831054c.js" as="script"><link rel="prefetch" href="/assets/js/10.65d12147.js"><link rel="prefetch" href="/assets/js/100.3e8ff840.js"><link rel="prefetch" href="/assets/js/101.f0fdeee5.js"><link rel="prefetch" href="/assets/js/102.000e6b23.js"><link rel="prefetch" href="/assets/js/103.3c52e2f0.js"><link rel="prefetch" href="/assets/js/104.fd0b5eab.js"><link rel="prefetch" href="/assets/js/105.d83c5a57.js"><link rel="prefetch" href="/assets/js/106.e1f2e2e4.js"><link rel="prefetch" href="/assets/js/107.afe2e145.js"><link rel="prefetch" href="/assets/js/108.3a507208.js"><link rel="prefetch" href="/assets/js/109.285c083b.js"><link rel="prefetch" href="/assets/js/11.79894829.js"><link rel="prefetch" href="/assets/js/110.52dcf320.js"><link rel="prefetch" href="/assets/js/111.429acb87.js"><link rel="prefetch" href="/assets/js/112.640d72eb.js"><link rel="prefetch" href="/assets/js/113.b4d5bb97.js"><link rel="prefetch" href="/assets/js/114.87687c3d.js"><link rel="prefetch" href="/assets/js/115.32aa71a9.js"><link rel="prefetch" href="/assets/js/116.eff9e9ad.js"><link rel="prefetch" href="/assets/js/117.88839d84.js"><link rel="prefetch" href="/assets/js/118.189f5dc4.js"><link rel="prefetch" href="/assets/js/119.2c6b7660.js"><link rel="prefetch" href="/assets/js/12.59e51b44.js"><link rel="prefetch" href="/assets/js/120.84468a09.js"><link rel="prefetch" href="/assets/js/121.bcaac8a8.js"><link rel="prefetch" href="/assets/js/122.e830a234.js"><link rel="prefetch" href="/assets/js/123.1cef6785.js"><link rel="prefetch" href="/assets/js/124.e9082eb1.js"><link rel="prefetch" href="/assets/js/125.09f2b475.js"><link rel="prefetch" href="/assets/js/126.08deaf71.js"><link rel="prefetch" href="/assets/js/127.a1908ce0.js"><link rel="prefetch" href="/assets/js/128.3a4de52d.js"><link rel="prefetch" href="/assets/js/129.3073a7ae.js"><link rel="prefetch" href="/assets/js/13.f4bdeb59.js"><link rel="prefetch" href="/assets/js/130.cbc5a416.js"><link rel="prefetch" href="/assets/js/131.70e0ef97.js"><link rel="prefetch" href="/assets/js/132.c0d9bcc0.js"><link rel="prefetch" href="/assets/js/133.113fe7a2.js"><link rel="prefetch" href="/assets/js/134.515dfccf.js"><link rel="prefetch" href="/assets/js/135.015bd547.js"><link rel="prefetch" href="/assets/js/136.cb3d8e97.js"><link rel="prefetch" href="/assets/js/137.ae01b1ee.js"><link rel="prefetch" href="/assets/js/138.aa0d96bf.js"><link rel="prefetch" href="/assets/js/139.c8d42f3a.js"><link rel="prefetch" href="/assets/js/14.1c18a6d1.js"><link rel="prefetch" href="/assets/js/140.6998be3f.js"><link rel="prefetch" href="/assets/js/141.d6b54220.js"><link rel="prefetch" href="/assets/js/142.7604fd94.js"><link rel="prefetch" href="/assets/js/143.7d2dfb48.js"><link rel="prefetch" href="/assets/js/144.509549d5.js"><link rel="prefetch" href="/assets/js/146.ea75341e.js"><link rel="prefetch" href="/assets/js/147.187473a2.js"><link rel="prefetch" href="/assets/js/148.968b5e1d.js"><link rel="prefetch" href="/assets/js/149.b74adea1.js"><link rel="prefetch" href="/assets/js/15.c2ca4bb0.js"><link rel="prefetch" href="/assets/js/150.617c3887.js"><link rel="prefetch" href="/assets/js/151.0ab1a122.js"><link rel="prefetch" href="/assets/js/152.bb011553.js"><link rel="prefetch" href="/assets/js/153.725593eb.js"><link rel="prefetch" href="/assets/js/154.df3f980f.js"><link rel="prefetch" href="/assets/js/155.15a9e5d7.js"><link rel="prefetch" href="/assets/js/156.d6cd101d.js"><link rel="prefetch" href="/assets/js/157.e86d964a.js"><link rel="prefetch" href="/assets/js/158.aaec09c0.js"><link rel="prefetch" href="/assets/js/159.c5c152a8.js"><link rel="prefetch" href="/assets/js/16.f6aec4de.js"><link rel="prefetch" href="/assets/js/160.6f355263.js"><link rel="prefetch" href="/assets/js/161.0c402fb4.js"><link rel="prefetch" href="/assets/js/162.10b5b327.js"><link rel="prefetch" href="/assets/js/163.68f424d3.js"><link rel="prefetch" href="/assets/js/164.131837c9.js"><link rel="prefetch" href="/assets/js/165.e7c1af1a.js"><link rel="prefetch" href="/assets/js/166.dc0e050f.js"><link rel="prefetch" href="/assets/js/167.ddf31731.js"><link rel="prefetch" href="/assets/js/168.6a3f5409.js"><link rel="prefetch" href="/assets/js/169.7cf19632.js"><link rel="prefetch" href="/assets/js/17.fb26b9e4.js"><link rel="prefetch" href="/assets/js/170.281498da.js"><link rel="prefetch" href="/assets/js/171.1786b3f2.js"><link rel="prefetch" href="/assets/js/172.17dd7785.js"><link rel="prefetch" href="/assets/js/173.d5e05586.js"><link rel="prefetch" href="/assets/js/174.ed881eb9.js"><link rel="prefetch" href="/assets/js/175.bbfc977a.js"><link rel="prefetch" href="/assets/js/176.6006c495.js"><link rel="prefetch" href="/assets/js/177.0b0b678e.js"><link rel="prefetch" href="/assets/js/178.9877df56.js"><link rel="prefetch" href="/assets/js/179.c8605907.js"><link rel="prefetch" href="/assets/js/18.ed618025.js"><link rel="prefetch" href="/assets/js/180.3f3e2c6f.js"><link rel="prefetch" href="/assets/js/181.e53e611f.js"><link rel="prefetch" href="/assets/js/182.b28e1116.js"><link rel="prefetch" href="/assets/js/183.01ad0fbb.js"><link rel="prefetch" href="/assets/js/184.1c5f6be6.js"><link rel="prefetch" href="/assets/js/185.2eaf00fa.js"><link rel="prefetch" href="/assets/js/186.c1d01a94.js"><link rel="prefetch" href="/assets/js/187.35a95a51.js"><link rel="prefetch" href="/assets/js/188.7414877c.js"><link rel="prefetch" href="/assets/js/189.64ebe222.js"><link rel="prefetch" href="/assets/js/19.d777a841.js"><link rel="prefetch" href="/assets/js/190.3cbd71a3.js"><link rel="prefetch" href="/assets/js/191.54f4dd5b.js"><link rel="prefetch" href="/assets/js/192.a6762335.js"><link rel="prefetch" href="/assets/js/193.1d39c07d.js"><link rel="prefetch" href="/assets/js/194.7c7066ad.js"><link rel="prefetch" href="/assets/js/195.86477502.js"><link rel="prefetch" href="/assets/js/196.ca1573ca.js"><link rel="prefetch" href="/assets/js/197.8f9f6f68.js"><link rel="prefetch" href="/assets/js/198.97b989c3.js"><link rel="prefetch" href="/assets/js/199.dbba9b0e.js"><link rel="prefetch" href="/assets/js/20.29033988.js"><link rel="prefetch" href="/assets/js/200.59b7be64.js"><link rel="prefetch" href="/assets/js/201.47a7a440.js"><link rel="prefetch" href="/assets/js/202.f2836c5b.js"><link rel="prefetch" href="/assets/js/203.e83123a9.js"><link rel="prefetch" href="/assets/js/204.c8782b2e.js"><link rel="prefetch" href="/assets/js/205.bf9ebce4.js"><link rel="prefetch" href="/assets/js/206.fb18e5ae.js"><link rel="prefetch" href="/assets/js/207.f4a9bb27.js"><link rel="prefetch" href="/assets/js/208.4207e0f0.js"><link rel="prefetch" href="/assets/js/209.52cfe727.js"><link rel="prefetch" href="/assets/js/21.6bf0c251.js"><link rel="prefetch" href="/assets/js/210.2380f75d.js"><link rel="prefetch" href="/assets/js/211.da7b5037.js"><link rel="prefetch" href="/assets/js/212.a969455b.js"><link rel="prefetch" href="/assets/js/213.74b52f7f.js"><link rel="prefetch" href="/assets/js/214.24faa4b4.js"><link rel="prefetch" href="/assets/js/215.96418e59.js"><link rel="prefetch" href="/assets/js/216.3e6f7a0f.js"><link rel="prefetch" href="/assets/js/217.5c24cfe8.js"><link rel="prefetch" href="/assets/js/218.423f5eea.js"><link rel="prefetch" href="/assets/js/219.1e6dbe71.js"><link rel="prefetch" href="/assets/js/22.032b39e6.js"><link rel="prefetch" href="/assets/js/220.bd2332d1.js"><link rel="prefetch" href="/assets/js/221.82032e20.js"><link rel="prefetch" href="/assets/js/222.ac206d2e.js"><link rel="prefetch" href="/assets/js/223.bfea66fa.js"><link rel="prefetch" href="/assets/js/224.5c52bee2.js"><link rel="prefetch" href="/assets/js/225.c0d901ef.js"><link rel="prefetch" href="/assets/js/226.64323e63.js"><link rel="prefetch" href="/assets/js/227.f842eb91.js"><link rel="prefetch" href="/assets/js/228.b17e1f18.js"><link rel="prefetch" href="/assets/js/23.c29b5740.js"><link rel="prefetch" href="/assets/js/24.f536da55.js"><link rel="prefetch" href="/assets/js/25.885e4d9a.js"><link rel="prefetch" href="/assets/js/26.7531531e.js"><link rel="prefetch" href="/assets/js/27.49f5dd90.js"><link rel="prefetch" href="/assets/js/28.1efbce17.js"><link rel="prefetch" href="/assets/js/29.456ee80f.js"><link rel="prefetch" href="/assets/js/30.3117e044.js"><link rel="prefetch" href="/assets/js/31.de472f78.js"><link rel="prefetch" href="/assets/js/32.b9dad104.js"><link rel="prefetch" href="/assets/js/33.1e952da8.js"><link rel="prefetch" href="/assets/js/34.8a467664.js"><link rel="prefetch" href="/assets/js/35.99e9433d.js"><link rel="prefetch" href="/assets/js/36.bcf89a45.js"><link rel="prefetch" href="/assets/js/37.9c594c47.js"><link rel="prefetch" href="/assets/js/38.ee165aa0.js"><link rel="prefetch" href="/assets/js/39.061075e7.js"><link rel="prefetch" href="/assets/js/4.69477812.js"><link rel="prefetch" href="/assets/js/40.5907744c.js"><link rel="prefetch" href="/assets/js/41.718f2408.js"><link rel="prefetch" href="/assets/js/42.8cba06c1.js"><link rel="prefetch" href="/assets/js/43.ccccefc1.js"><link rel="prefetch" href="/assets/js/44.e563d2c1.js"><link rel="prefetch" href="/assets/js/45.1933afba.js"><link rel="prefetch" href="/assets/js/46.60f7b724.js"><link rel="prefetch" href="/assets/js/47.9130a048.js"><link rel="prefetch" href="/assets/js/48.781f6cf4.js"><link rel="prefetch" href="/assets/js/49.8bb2c598.js"><link rel="prefetch" href="/assets/js/5.e1026f7a.js"><link rel="prefetch" href="/assets/js/50.f13db334.js"><link rel="prefetch" href="/assets/js/51.56229379.js"><link rel="prefetch" href="/assets/js/52.452b6db6.js"><link rel="prefetch" href="/assets/js/53.1e563a82.js"><link rel="prefetch" href="/assets/js/54.738b4d53.js"><link rel="prefetch" href="/assets/js/55.9b3cfd21.js"><link rel="prefetch" href="/assets/js/56.4adb8557.js"><link rel="prefetch" href="/assets/js/57.43472596.js"><link rel="prefetch" href="/assets/js/58.5acea7cb.js"><link rel="prefetch" href="/assets/js/59.4c618203.js"><link rel="prefetch" href="/assets/js/6.4db5de31.js"><link rel="prefetch" href="/assets/js/60.9870a2a5.js"><link rel="prefetch" href="/assets/js/61.922e02e9.js"><link rel="prefetch" href="/assets/js/62.9ac49508.js"><link rel="prefetch" href="/assets/js/63.1cf26d58.js"><link rel="prefetch" href="/assets/js/64.f4d688da.js"><link rel="prefetch" href="/assets/js/65.49febfb6.js"><link rel="prefetch" href="/assets/js/66.abd1cdc8.js"><link rel="prefetch" href="/assets/js/67.3d2d0189.js"><link rel="prefetch" href="/assets/js/68.d306dd73.js"><link rel="prefetch" href="/assets/js/69.3d25c1b2.js"><link rel="prefetch" href="/assets/js/7.e010d075.js"><link rel="prefetch" href="/assets/js/70.bf8ac2b5.js"><link rel="prefetch" href="/assets/js/71.963a09e8.js"><link rel="prefetch" href="/assets/js/72.f0422002.js"><link rel="prefetch" href="/assets/js/73.3067af07.js"><link rel="prefetch" href="/assets/js/74.c825513a.js"><link rel="prefetch" href="/assets/js/75.31912616.js"><link rel="prefetch" href="/assets/js/76.7ab24307.js"><link rel="prefetch" href="/assets/js/77.f7404606.js"><link rel="prefetch" href="/assets/js/78.a26327c5.js"><link rel="prefetch" href="/assets/js/79.acb56d5c.js"><link rel="prefetch" href="/assets/js/8.b396ab2f.js"><link rel="prefetch" href="/assets/js/80.dfb43f8f.js"><link rel="prefetch" href="/assets/js/81.114f0722.js"><link rel="prefetch" href="/assets/js/82.d79ddbcc.js"><link rel="prefetch" href="/assets/js/83.434a090b.js"><link rel="prefetch" href="/assets/js/84.da747c75.js"><link rel="prefetch" href="/assets/js/85.2bc516e9.js"><link rel="prefetch" href="/assets/js/86.072e06fa.js"><link rel="prefetch" href="/assets/js/87.9c434701.js"><link rel="prefetch" href="/assets/js/88.3f5a3ec2.js"><link rel="prefetch" href="/assets/js/89.00b57863.js"><link rel="prefetch" href="/assets/js/9.fe67ee6b.js"><link rel="prefetch" href="/assets/js/90.20985007.js"><link rel="prefetch" href="/assets/js/91.210f503c.js"><link rel="prefetch" href="/assets/js/92.a5ce4f19.js"><link rel="prefetch" href="/assets/js/93.21444991.js"><link rel="prefetch" href="/assets/js/94.f119cd79.js"><link rel="prefetch" href="/assets/js/95.567cceba.js"><link rel="prefetch" href="/assets/js/96.51d87fb1.js"><link rel="prefetch" href="/assets/js/97.951e28d6.js"><link rel="prefetch" href="/assets/js/98.f952caa9.js"><link rel="prefetch" href="/assets/js/99.7811c73c.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.e29dbb94.js">
    <link rel="stylesheet" href="/assets/css/0.styles.128f439c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/A049.png" alt="🌟 Sudal's gram" class="logo"> <span class="site-name can-hide">🌟 Sudal's gram</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/general/" class="nav-link">General</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/html/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/html/performance.html" class="nav-link">Performance</a></li><li class="dropdown-subitem"><a href="/frontend/html/canvas.html" class="nav-link">Canvas</a></li></ul></li><li class="dropdown-item"><h4>CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/css.html" class="nav-link">Tips</a></li></ul></li><li class="dropdown-item"><h4>Javascript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/javascript/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/reference/" class="nav-link">Reference</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/performance/" class="nav-link">Performance</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/framework/node/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/frontend/framework/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/frontend/framework/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/frontend/framework/angular.html" class="nav-link">Angular</a></li></ul></li><li class="dropdown-item"><h4>Library</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/library/jquery.html" class="nav-link">jQuery</a></li><li class="dropdown-subitem"><a href="/frontend/library/d3.html" class="nav-link">D3</a></li><li class="dropdown-subitem"><a href="/frontend/library/three.html" class="nav-link">THREE</a></li><li class="dropdown-subitem"><a href="/frontend/library/graphql.html" class="nav-link">Graph QL</a></li></ul></li><li class="dropdown-item"><h4>Etc</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/etc/flux.html" class="nav-link">Flux</a></li><li class="dropdown-subitem"><a href="/frontend/etc/graphql.html" class="nav-link">Graph QL</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Back End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Language</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/language/java/basic/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/backend/language/kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-subitem"><a href="/backend/language/php/" class="nav-link">PHP</a></li></ul></li><li class="dropdown-item"><h4>Server</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/backend/server/nginx/" class="nav-link">NGINX</a></li><li class="dropdown-subitem"><a href="/backend/server/tomcat/" class="nav-link">Tomcat</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/network/http/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/backend/network/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/network/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Database</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/backend/database/mssql/" class="nav-link">MSSQL</a></li><li class="dropdown-subitem"><a href="/backend/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/backend/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/backend/database/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/framework/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/backend/framework/jpa/" class="nav-link">JPA</a></li><li class="dropdown-subitem"><a href="/backend/framework/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/framework/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/devops/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/backend/devops/kubernetes.html" class="nav-link">Kubernetes</a></li><li class="dropdown-subitem"><a href="/backend/devops/git.html" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/backend/devops/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Big Data</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/bigdata/dw.html" class="nav-link">DW</a></li><li class="dropdown-subitem"><a href="/backend/bigdata/analytics.html" class="nav-link">Analytics</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Books</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/books/effective_java_3rd/chapter_1.html" class="nav-link">Effective Java 3rd</a></li><li class="dropdown-item"><!----> <a href="/books/effective_kotlin/chapter_1.html" class="nav-link">Effective Kotlin</a></li><li class="dropdown-item"><!----> <a href="/books/js_high_performance.html" class="nav-link">자바스크립트 성능 최적화</a></li><li class="dropdown-item"><!----> <a href="/books/clean_architecture.html" class="nav-link">클린 아키텍처</a></li><li class="dropdown-item"><!----> <a href="/books/elastic_search_guide/chapter_1.html" class="nav-link">엘라스틱서치 실무 가이드</a></li><li class="dropdown-item"><!----> <a href="/books/mastering_akka/" class="nav-link">아카를 이용한 마이크로서비스 개발</a></li><li class="dropdown-item"><!----> <a href="/books/programming_in_scala/" class="nav-link">Programming in Scala 4/e</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/general/" class="nav-link">General</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/html/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/html/performance.html" class="nav-link">Performance</a></li><li class="dropdown-subitem"><a href="/frontend/html/canvas.html" class="nav-link">Canvas</a></li></ul></li><li class="dropdown-item"><h4>CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/css.html" class="nav-link">Tips</a></li></ul></li><li class="dropdown-item"><h4>Javascript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/javascript/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/reference/" class="nav-link">Reference</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/performance/" class="nav-link">Performance</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/framework/node/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/frontend/framework/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/frontend/framework/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/frontend/framework/angular.html" class="nav-link">Angular</a></li></ul></li><li class="dropdown-item"><h4>Library</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/library/jquery.html" class="nav-link">jQuery</a></li><li class="dropdown-subitem"><a href="/frontend/library/d3.html" class="nav-link">D3</a></li><li class="dropdown-subitem"><a href="/frontend/library/three.html" class="nav-link">THREE</a></li><li class="dropdown-subitem"><a href="/frontend/library/graphql.html" class="nav-link">Graph QL</a></li></ul></li><li class="dropdown-item"><h4>Etc</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/etc/flux.html" class="nav-link">Flux</a></li><li class="dropdown-subitem"><a href="/frontend/etc/graphql.html" class="nav-link">Graph QL</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Back End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Language</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/language/java/basic/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/backend/language/kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-subitem"><a href="/backend/language/php/" class="nav-link">PHP</a></li></ul></li><li class="dropdown-item"><h4>Server</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/backend/server/nginx/" class="nav-link">NGINX</a></li><li class="dropdown-subitem"><a href="/backend/server/tomcat/" class="nav-link">Tomcat</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/network/http/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/backend/network/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/network/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Database</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/backend/database/mssql/" class="nav-link">MSSQL</a></li><li class="dropdown-subitem"><a href="/backend/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/backend/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/backend/database/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/framework/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/backend/framework/jpa/" class="nav-link">JPA</a></li><li class="dropdown-subitem"><a href="/backend/framework/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/framework/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/devops/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/backend/devops/kubernetes.html" class="nav-link">Kubernetes</a></li><li class="dropdown-subitem"><a href="/backend/devops/git.html" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/backend/devops/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Big Data</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/bigdata/dw.html" class="nav-link">DW</a></li><li class="dropdown-subitem"><a href="/backend/bigdata/analytics.html" class="nav-link">Analytics</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Books</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/books/effective_java_3rd/chapter_1.html" class="nav-link">Effective Java 3rd</a></li><li class="dropdown-item"><!----> <a href="/books/effective_kotlin/chapter_1.html" class="nav-link">Effective Kotlin</a></li><li class="dropdown-item"><!----> <a href="/books/js_high_performance.html" class="nav-link">자바스크립트 성능 최적화</a></li><li class="dropdown-item"><!----> <a href="/books/clean_architecture.html" class="nav-link">클린 아키텍처</a></li><li class="dropdown-item"><!----> <a href="/books/elastic_search_guide/chapter_1.html" class="nav-link">엘라스틱서치 실무 가이드</a></li><li class="dropdown-item"><!----> <a href="/books/mastering_akka/" class="nav-link">아카를 이용한 마이크로서비스 개발</a></li><li class="dropdown-item"><!----> <a href="/books/programming_in_scala/" class="nav-link">Programming in Scala 4/e</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/books/effective_kotlin/chapter_1.html" class="sidebar-link">Chapter 1 안정성</a></li><li><a href="/books/effective_kotlin/chapter_2.html" class="sidebar-link">Chapter 2 가독성</a></li><li><a href="/books/effective_kotlin/chapter_3.html" class="sidebar-link">Chapter 3 재사용성</a></li><li><a href="/books/effective_kotlin/chapter_4.html" class="sidebar-link">Chapter 4 추상화 설계</a></li><li><a href="/books/effective_kotlin/chapter_5.html" class="active sidebar-link">Chapter 5 객체 생성</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/effective_kotlin/chapter_5.html#item-33-생성자-대신-팩토리-함수를-사용하라" class="sidebar-link">Item 33 생성자 대신 팩토리 함수를 사용하라</a></li><li class="sidebar-sub-header"><a href="/books/effective_kotlin/chapter_5.html#item-34-기본-생성자에-이름-있는-옵션-아규먼트를-사용하라" class="sidebar-link">Item 34 기본 생성자에 이름 있는 옵션 아규먼트를 사용하라</a></li><li class="sidebar-sub-header"><a href="/books/effective_kotlin/chapter_5.html#item-35-복잡한-객체를-생성하기-위한-dsl을-정의하라" class="sidebar-link">Item 35 복잡한 객체를 생성하기 위한 DSL을 정의하라</a></li></ul></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="chapter-5-객체-생성"><a href="#chapter-5-객체-생성" aria-hidden="true" class="header-anchor">#</a> Chapter 5 객체 생성</h1> <p>코틀린의 코드는 순수 함수형 스타일로 작성할 수 있지만, 자바처럼 객체 지향 프로그래밍(Object Oriented Programming, OOP) 스타일로도 작성할 수 있다.</p> <p>OOP는 객체를 생성해서 사용하므로, 객체를 생성하는 방법을 정의해야 하고, 이에 대한 방법들과 장단점을 살펴봐야 한다.</p> <p>또한 코틀린은 정적 메서드를 사용할 수 없다.</p> <p>그래서 일반적으로 톱레벨 함수와 companion 객체 함수 등을 대신 활용한다.</p> <p>이들의 작동방식에는 큰 차이가 있으므로 알아보도록 하자.</p> <h2 id="item-33-생성자-대신-팩토리-함수를-사용하라"><a href="#item-33-생성자-대신-팩토리-함수를-사용하라" aria-hidden="true" class="header-anchor">#</a> Item 33 생성자 대신 팩토리 함수를 사용하라</h2> <p>클래스의 인스턴스를 만드는 가장 기본적인 방법은 기본 생성자(primary constructor) 를 사용하여 만드는 방법이다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> head<span class="token operator">:</span> T<span class="token punctuation">,</span>
  <span class="token keyword">val</span> tail<span class="token operator">:</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">?</span>
<span class="token punctuation">)</span>

<span class="token keyword">val</span> list <span class="token operator">=</span> <span class="token function">MyLinkedList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">MyLinkedList</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>생성자가 객체를 만들 수 있는 유일한 방법은 아니며, 디자인 패턴 중 생성 패턴(creational pattern)을 이용하여 만들 수 있다.</p> <p>생성 패턴은 객체를 생성자로 직접 생성하지 않고, 별도의 함수를 통해 생성한다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">myLinkedListOf</span><span class="token punctuation">(</span>
  <span class="token keyword">vararg</span> elements<span class="token operator">:</span> T
<span class="token punctuation">)</span><span class="token operator">:</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">?</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">val</span> head <span class="token operator">=</span> elements<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> elementsTail <span class="token operator">=</span> elements<span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> elements<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
  <span class="token keyword">val</span> tail <span class="token operator">=</span> <span class="token function">myLinkedListOf</span><span class="token punctuation">(</span><span class="token operator">*</span>elementsTail<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">MyLinkedList</span><span class="token punctuation">(</span>head<span class="token punctuation">,</span> tail<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> list <span class="token operator">=</span> <span class="token function">myLinkedListOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>객체 인스턴스 생성을 위한 패턴 중 팩토리 메서드 클래스에서 생성자의 역활을 대신 해 주는 함수를 팩토리 함수라고 한다.</p> <p>팩토리 메서드를 이용했을 때의 다음과 같은 장점이 있다.</p> <ul><li>함수의 이름을 붙일수 있다
<ul><li>생성자를 이용하여 생성하는것 보다 훨씬 이해하기 쉽다.(<code>ArrayList.withSize(3)</code>)</li> <li>동일한 파라미터 타입을 갖는 생성자의 충돌을 줄일 수 있다.</li></ul></li> <li>원하는 타입의 객체를 리턴할 수 있다.
<ul><li>생성자와 다르게 함수가 원하는 형태의 타입을 리턴할 수 있다.</li></ul></li> <li>객체 생성에 따른 전략을 세울 수 있다.
<ul><li>생성자와 다르게 호출될 때마다 새 객체를 만들 필요가 없다.</li> <li>싱글턴 패턴처럼 객체를 하나만 생성하게 강제 하거나, 최적화를 위해 캐싱 메커니즘을 사용할 수 있다.</li> <li>객체를 만들 수 없을 경우 <code>null</code> 을 리턴하게 만들 수 있다.</li></ul></li> <li>팩토리 함수는 아직 존재하지 않는 객체를 리턴할 수 있다.
<ul><li>프로젝트를 빌드하지 않고 앞으로 만들어질 객체를 사용할 수 있다.</li> <li>프록시를 통해 만들어지는 객체를 사용할 수 있다.</li></ul></li> <li>객체 외부에 팩토리 함수를 만들면, 그 가시성을 원하는대로 제어할 수 있다.</li> <li>팩토리 함수는 인라인으로 만들수 있으며, 그 파라미터를 <code>reified</code> 로 만들수 있다.</li> <li>팩토리 함수는 생성자로 만들기 복잡한 객체도 생성이 가능하다.</li> <li>사용자가 원하는 시점에 객체를 만들수 있다.</li></ul> <p>팩토리 함수 내부에서는 생성자를 이용하여 사용해야 한다.</p> <p>팩토리 함수는 기본 생성자가 아닌 추가 생성자(secondary constructor) 와 경쟁관계 이다.</p> <h3 id="companion-객체-팩토리-함수"><a href="#companion-객체-팩토리-함수" aria-hidden="true" class="header-anchor">#</a> Companion 객체 팩토리 함수</h3> <p>팩토리 함수를 정의하는 가장 일반적인 방법은 companion 객체를 사용하는 것이다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> head<span class="token operator">:</span> T<span class="token punctuation">,</span>
  <span class="token keyword">val</span> tail<span class="token operator">:</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">?</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">vararg</span> elements<span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">?</span> <span class="token punctuation">{</span>
      <span class="token comment">/*...*/</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> list <span class="token operator">=</span> MyLinkedList<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>이러한 방법은 인터페이스에도 구현할 수 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> head<span class="token operator">:</span> T<span class="token punctuation">,</span>
  <span class="token keyword">val</span> tail<span class="token operator">:</span> MyLinkedList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">?</span>
<span class="token punctuation">)</span><span class="token operator">:</span> MyList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> MyList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>

  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">vararg</span> elements<span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span> MyList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">?</span> <span class="token punctuation">{</span>
      <span class="token comment">//...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> list <span class="token operator">=</span> MyList<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>팩토리 함수에서는 다음과 같은 이름이 주로 사용된다.</p> <ul><li><p>from: 파라미터를 하나 받고 같은 타입의 인스턴스 하나를 리턴하는 변환 함수</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> date<span class="token operator">:</span> Date <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>instant<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>of: 파라미터를 여려개 받고, 이를 통합해서 인스턴스를 만들어 주는 함수</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> faceCards <span class="token operator">=</span> Set<span class="token operator">&lt;</span>Rank<span class="token operator">&gt;</span> <span class="token operator">=</span> EnumSet<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>JACK<span class="token punctuation">,</span> QUEEN<span class="token punctuation">,</span> KING<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>valueOf: from 또는 of와 비슷한 기능을 하면서도, 의미를 조금 더 쉽게 읽을수 있게 이름을 붙인 함수</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> prime<span class="token operator">:</span> BigInteger <span class="token operator">=</span> BigInteger<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>instance/getInstance: 싱글턴으로 하나의 인스턴스를 리턴하는 함수</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> luke<span class="token operator">:</span> StackWalker <span class="token operator">=</span> StackWalker<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>createdInstance/newInstance: instance/getInstance 처럼 동작 하지만 함수를 호출할 때마다 새로운 인스턴스를 만들어서 리턴</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> newArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>classObject<span class="token punctuation">,</span> arrayLen<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>getType: instance/getInstance 처럼 동작하지만 팩토리 함수가 다른 클래스에 있을대 사용하며, 타입은 팩토리 함수에서 리턴하는 타입</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> fs<span class="token operator">:</span> FileStore <span class="token operator">=</span> Files<span class="token punctuation">.</span><span class="token function">getFileStore</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>newType: createdInstance/newInstance 처럼 동작하지만 팩토리 함수가 다른 클래스에 있을대 사용하며, 타입은 팩토리 함수에서 리턴하는 타입</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> br<span class="token operator">:</span> BufferedReader <span class="token operator">=</span> Files<span class="token punctuation">.</span><span class="token function">newBufferedReader</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>경험이 없는 코틀린 개발자들은 companion 객체 멤버를 단순한 정적 멤버처럼 다루는 경우가 많다.</p> <p>하지만 companion 객체는 더 많은 기능을 가지고 있으며, companion 객체는 인터페이스를 구현할 수 있고, 클래스를 상속받을 수도 있다.</p> <p>예를 들어 코틀린의 코루틴 내부에서는 코루틴 컨텍스트의 companion 객체들이 <code>CoroutineContext.Key</code> 인터페이스를 구현하고 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> ContinuationInterceptor <span class="token operator">:</span> CoroutineContext<span class="token punctuation">.</span><span class="token function">Element</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * The key that defines *the* context interceptor.
     */</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> Key <span class="token operator">:</span> CoroutineContext<span class="token punctuation">.</span>Key<span class="token operator">&lt;</span>ContinuationInterceptor<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="확장-팩토리-함수"><a href="#확장-팩토리-함수" aria-hidden="true" class="header-anchor">#</a> 확장 팩토리 함수</h3> <p>이미 companion 객체가 존재할 때, 이 companion 객체를 직접 수정할 수는 없고, 다른 파일에 함수를 만들어야 할 때 사용한다.</p> <p>다음과 같이 Tool 인터페이스를 교체할 수 없다고 가정해보자</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">interface</span> Tool <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span> <span class="token comment">/*...*/</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>companion 객체를 활용해서 확장 함수를 정의할 수 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">fun</span> Tool<span class="token punctuation">.</span>Companion<span class="token punctuation">.</span><span class="token function">createBigTool</span><span class="token punctuation">(</span><span class="token comment">/*...*/</span><span class="token punctuation">)</span><span class="token operator">:</span> BigTool <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 사용</span>
Tool<span class="token punctuation">.</span><span class="token function">createBigTool</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="톱레벨-팩토리-함수"><a href="#톱레벨-팩토리-함수" aria-hidden="true" class="header-anchor">#</a> 톱레벨 팩토리 함수</h3> <p>객체를 만드는 방법 중 하나로 <code>listOf</code>, <code>setOf</code>, <code>mapOf</code> 등과 같은 톱레벨 팩토리 함수를 이용하는 방법이 있다.</p> <p>톱레벨 함수는 굉장히 광범위하게 사용하지만 public 톱레벨 함수는 모든 곳에서 사용할 수 있으므로 IDE의 팁을 복잡하게 만드는 단점이 있다.</p> <p>따라서 톱레벨 함수를 만들 때는 이름을 신중하게 잘 지정해야 한다.</p> <h3 id="가짜-생성자"><a href="#가짜-생성자" aria-hidden="true" class="header-anchor">#</a> 가짜 생성자</h3> <p>일반적인 코틀린의 생성자는 톱레벨 함수와 같은 형태로 사용된다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> A
<span class="token keyword">val</span> a <span class="token operator">=</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>일반적인 관점에서 대문자로 시작하는지 아닌지는 생성자와 함수를 구분하는 기준이 되기도 한다.</p> <p>함수도 대문자로 시작될 수 있지만, 이는 특수한 다른 용도로 사용된다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">List</span><span class="token punctuation">(</span>
  size<span class="token operator">:</span> Int<span class="token punctuation">,</span>
  <span class="token keyword">init</span><span class="token operator">:</span> <span class="token punctuation">(</span>index<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> T
<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">MutableList</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token keyword">init</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">MutableList</span><span class="token punctuation">(</span>
  size<span class="token operator">:</span> Int<span class="token punctuation">,</span>
  <span class="token keyword">init</span><span class="token operator">:</span> <span class="token punctuation">(</span>index<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> T
<span class="token punctuation">)</span><span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> list <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
  <span class="token function">repeat</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> index <span class="token operator">-&gt;</span> list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">init</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre></div><p>위와 같은 톱레벨 함수는 생성자처럼 보이고, 생성자처럼 동작된다.</p> <p>하지만 팩토리 함수와 같은 모든 장점을 갖는다.</p> <p>많은 코틀린 개발자가 이를 톱레벨 함수인지 잘 몰르며, 이를 가짜 생성자(fake constructor) 라고 부른다.</p> <p>가짜 생성자를 만드는 이유는 다음과 같다.</p> <ul><li>인터페이스를 위한 생성자를 만들고 싶을때</li> <li>refried 타입 아규먼트를 작게하고 싶을때</li></ul> <p>가짜 생성자는 진짜 생성자처럼 동작되어야 하며 진짜 생성자와 같은 동작을 해야 한다.</p> <p>가짜 생성자를 선언하는 또 다른 방법은 <code>invoke</code> 연산자를 갖는 companion 객체를 사용하면 비슷한 결과를 얻을 수 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Tree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token keyword">operator</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">invoke</span><span class="token punctuation">(</span>size<span class="token operator">:</span> Int<span class="token punctuation">,</span> generator<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> T<span class="token punctuation">)</span><span class="token operator">:</span> Tree<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 사용</span>
<span class="token function">Tree</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string">&quot;<span class="token interpolation variable">$it</span>&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><p>이와 같은 방식은 거의 사용되지 않으며 권장하지 않는다.</p> <h3 id="팩토리-클래스의-메서드"><a href="#팩토리-클래스의-메서드" aria-hidden="true" class="header-anchor">#</a> 팩토리 클래스의 메서드</h3> <p>팩토리 클래스와 관련된 추상 팩토리, 프로토타입 등의 수많은 생성 패턴이 있다.</p> <p>이런 패턴 중 일부는 코틀린에서는 적합하지 않으며, 일부 패턴(점층적 생성자 패턴, 빌더 패턴)은 코틀린에서는 의미가 없다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Student</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> id<span class="token operator">:</span> Int<span class="token punctuation">,</span>
  <span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token keyword">val</span> surname<span class="token operator">:</span> String
<span class="token punctuation">)</span>

<span class="token keyword">class</span> StudentsFactory <span class="token punctuation">{</span>
  <span class="token keyword">var</span> nextId <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">fun</span> <span class="token function">next</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">,</span> surname<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Student</span><span class="token punctuation">(</span>nextId<span class="token operator">++</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> surname<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> factory <span class="token operator">=</span> <span class="token function">StudentsFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> s1 <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;Marcin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Moskala&quot;</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// Student(id=0, name=Marcin, Surname=Moskala)</span>
<span class="token keyword">val</span> s2 <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;Igor&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Wojda&quot;</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// Student(id=1, name=Igor, Surname=Wojda)</span>
</code></pre></div><p>팩토리 클래스는 프로퍼티를 가질 수 있고, 이를 활용하면 다양한 종류로 최적화 하거나 기능을 도입할 수 있다.</p> <h3 id="정리"><a href="#정리" aria-hidden="true" class="header-anchor">#</a> 정리</h3> <p>코틀린은 팩토리 함수를 만들 수 있는 다양한 방법들을 제공하며 각각의 방법들은 여러 특징을 갖고 있다.</p> <p>객체를 생성할때는 이런 특징을 잘 파악하고 사용해야 하며, 팩토리 함수를 사용하는 가장 일반적인 방법은 companion 객체를 활용하는 것이다.</p> <h2 id="item-34-기본-생성자에-이름-있는-옵션-아규먼트를-사용하라"><a href="#item-34-기본-생성자에-이름-있는-옵션-아규먼트를-사용하라" aria-hidden="true" class="header-anchor">#</a> Item 34 기본 생성자에 이름 있는 옵션 아규먼트를 사용하라</h2> <p>객체를 정의하고 생성하는 방법을 지정할 때 사용하는 가장 기본적인 방법은 기본 생성자(primary constructor)를 사용하는 것이다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">var</span> surname<span class="token operator">:</span> String<span class="token punctuation">)</span>
<span class="token keyword">val</span> user <span class="token operator">=</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Berry&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>기본 생성자로 객체를 만들 때는 객체의 초기 상태를 나타내는 아규먼트들을 전달한다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Student</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token keyword">val</span> surname<span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token keyword">val</span> age<span class="token operator">:</span> Int
<span class="token punctuation">)</span>
</code></pre></div><p>다음 예는 인덱스가 붙어 있는 글을 출력하는 프레젠터 객체이다.</p> <p>이 객체는 기본 생성자를 사용해서 종속성을 주입할 수 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">QuotationPresenter</span><span class="token punctuation">(</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> view<span class="token operator">:</span> QuotationView<span class="token punctuation">,</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> repo<span class="token operator">:</span> QuotationRepository
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">var</span> nextQuoteId <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>

  <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">fun</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    nextQuoteId <span class="token operator">=</span> <span class="token punctuation">(</span>nextQuoteId <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> repo<span class="token punctuation">.</span>quotesNumber
    <span class="token keyword">val</span> quote <span class="token operator">=</span> repo<span class="token punctuation">.</span><span class="token function">getQuote</span><span class="token punctuation">(</span>nextQuoteId<span class="token punctuation">)</span>
    view<span class="token punctuation">.</span><span class="token function">showQuote</span><span class="token punctuation">(</span>quote<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>QuotationPresenter</code> 는 기본 생성자에 선언되어 있는 프로퍼티보다 더 많은 프로퍼티를 갖고 있다.</p> <p>위 코드에서 <code>nextQuoteId</code> 프로퍼티는 항상 -1 로 초기화 된다.</p> <p>기본 생성자가 좋은 이유를 설명하기 위해 다음 두기지 예시를 살펴본다.</p> <h3 id="점증적-생성자-패턴"><a href="#점증적-생성자-패턴" aria-hidden="true" class="header-anchor">#</a> 점증적 생성자 패턴</h3> <p>점증적 생성자 패턴은 여러가지 종류의 생성자를 사용하는 굉장히 간단한 패턴이다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Pizza <span class="token punctuation">{</span>
    <span class="token keyword">val</span> size<span class="token operator">:</span> String
    <span class="token keyword">val</span> cheese<span class="token operator">:</span> Int
    <span class="token keyword">val</span> olives<span class="token operator">:</span> Int
    <span class="token keyword">val</span> bacon<span class="token operator">:</span> Int
​
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>size<span class="token operator">:</span> String<span class="token punctuation">,</span> cheess<span class="token operator">:</span> Int<span class="token punctuation">,</span> olives<span class="token operator">:</span> Int<span class="token punctuation">,</span> bacon<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size
        <span class="token keyword">this</span><span class="token punctuation">.</span>cheess <span class="token operator">=</span> cheess
        <span class="token keyword">this</span><span class="token punctuation">.</span>olives <span class="token operator">=</span> olives
        <span class="token keyword">this</span><span class="token punctuation">.</span>bacon <span class="token operator">=</span> bacon
    <span class="token punctuation">}</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>size<span class="token operator">:</span> String<span class="token punctuation">,</span> cheese<span class="token operator">:</span> Int<span class="token punctuation">,</span> olives<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> cheese<span class="token punctuation">,</span> olives<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>size<span class="token operator">:</span> String<span class="token punctuation">,</span> cheese<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> cheese<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>size<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>위 코드는 좋은 코드가 아니다.</p> <p>코틀린에서는 일반적으로 아래와 같이 디폴트 아규먼트(default argument)를 사용한다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">Pizza</span><span class="token punctuation">(</span>
    <span class="token keyword">val</span> size<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword">val</span> cheese<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token keyword">val</span> olives<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token keyword">val</span> bacon<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">)</span>
</code></pre></div><p>위와 같은 디폴트 아규먼트는 코드를 단순하고 깔끔하게 만들어줄 뿐만 아니라 다양한 기능도 제공한다.</p> <ul><li>파라미터들의 값을 원하는 대로 지정할 수 있다.</li> <li>아규먼트를 원하는 순서로 지정할 수 있다.</li> <li>명시적으로 이름을 붙여서 아규먼트를 지정하므로 의미가 훨씬 명확하다.</li></ul> <p>이름 있는 아규먼트(named argument)를 활용하여 명시적으로 이름을 붙여주어 의미가 명확해진다.</p> <h3 id="빌더-패턴"><a href="#빌더-패턴" aria-hidden="true" class="header-anchor">#</a> 빌더 패턴</h3> <p>자바에서는 이름 있는 아규먼트와 디폴트 아규먼트를 사용할 수 없지만 빌더 패턴을 사용한다.</p> <p>자바의 빌더 패턴은 아래와 같은 장점을 제공한다.</p> <ul><li>파라미터에 이름을 붙일 수 있다.</li> <li>파라미터를 원하는 순서대로 지정할 수 있다.</li> <li>디폴트 값을 지정할 수 있다.</li></ul> <p>빌더 패턴을 코틀린으로 만들어보면 다음과 같이 작성할 수 있다.</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> Pizza <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">val</span> size<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword">val</span> cheese<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword">val</span> olives<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword">val</span> bacon<span class="token operator">:</span> Int
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token function">Builder</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">val</span> size<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">var</span> cheese<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">private</span> <span class="token keyword">var</span> olives<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">private</span> <span class="token keyword">var</span> bacon<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
        
        <span class="token keyword">fun</span> <span class="token function">setCheese</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Builder <span class="token operator">=</span> apply <span class="token punctuation">{</span>
            cheese <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
        
        <span class="token keyword">fun</span> <span class="token function">setOlives</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Builder <span class="token operator">=</span> apply <span class="token punctuation">{</span>
            olives <span class="token operator">=</span> value
        <span class="token punctuation">}</span>

        <span class="token keyword">fun</span> <span class="token function">setBacon</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Builder <span class="token operator">=</span> apply <span class="token punctuation">{</span>
            bacon <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
        
        <span class="token keyword">fun</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Pizza</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> cheese<span class="token punctuation">,</span> olives<span class="token punctuation">,</span> bacon<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>빌더 패턴을 사용하면 디폴트 아규먼트를 사용하는것과 같은 효과를 볼 수 있다.</p> <p>하지만 빌더패턴을 사용하는것 보다 이름 있는 아규먼트를 사용하는것이 더 좋은 이유는 다음과 같다.</p> <ul><li>더 짧다</li> <li>더 명확하다</li> <li>더 사용하기 쉽다</li> <li>동시성과 관련된 문제가 없다
<ul><li>코틀린의 함수 파라미터는 항상 immutable 이지만 대부분의 빌더 패턴은 mutable 이다</li> <li>따라서 빌더 패턴의 함수를 thread-safe 하게 구현하는 것은 까다로운 일이다</li></ul></li></ul> <p>다만 빌더 패턴이 더 유용한 경우도 있다.</p> <ul><li><p>값의 의미를 묶어서 지정해야 하는 경우</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> dialog <span class="token operator">=</span> AlertDialog<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>fire_missiles<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>fire<span class="token punctuation">,</span> <span class="token punctuation">{</span> d<span class="token punctuation">,</span> id <span class="token operator">-&gt;</span>
    <span class="token comment">// 미사일 발사!</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setNegativeButton</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>string<span class="token punctuation">.</span>cancel<span class="token punctuation">,</span> <span class="token punctuation">{</span> d<span class="token punctuation">,</span> id <span class="token operator">-&gt;</span> 
    <span class="token comment">// 사용자가 대화상자에서 취소를 누른 경우</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>특정 값을 누적형태로 사용해야 한는 경우</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> router <span class="token operator">=</span> Router<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;/home&quot;</span><span class="token punctuation">,</span> <span class="token operator">::</span>showHome<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;/users&quot;</span><span class="token punctuation">,</span> <span class="token operator">::</span>showUsers<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>위와 같은 경우에 빌더패턴을 만들지 않고 추가적인 타입을 만들고 활용하면 오히려 더 복잡해질수있다.</p> <p>하지만 이런 특수한 경우라면 DSL(Domain Specific Language) 빌더를 사용해서 구현하기도 한다.</p> <h3 id="정리-2"><a href="#정리-2" aria-hidden="true" class="header-anchor">#</a> 정리</h3> <p>일반적인 프로젝트에서 기본 생성자를 사용해 객체를 만든다.</p> <p>코틀린에서는 점층적 생성자 패턴을 사용하지 않는다.</p> <p>대신 디폴트 아규먼트를 활용하여 사용하는것이 더 좋다.</p> <p>디폴트 아규먼트는 더 짧고, 더 명확하고, 더 사용하기 쉽다.</p> <h2 id="item-35-복잡한-객체를-생성하기-위한-dsl을-정의하라"><a href="#item-35-복잡한-객체를-생성하기-위한-dsl을-정의하라" aria-hidden="true" class="header-anchor">#</a> Item 35 복잡한 객체를 생성하기 위한 DSL을 정의하라</h2> <p>코틀린을 활용하면 DSL(Domain Specific Language)을 직접 만들 수 있다.</p> <p>이는 복잡한 객체, 계층 구조를 갖고 있는 객체들을 정의할 때 굉장히 유용하다.</p> <p>DSL 을 만드는 일은 힘든일이지만, 한 번 만들고 나면 보일러플레이트(boilerplate)와 복잡성을 숨기면서 개발자의 의도를 명확하게 표현 가능하다.</p> <h3 id="사용자-정의-dsl-만들기"><a href="#사용자-정의-dsl-만들기" aria-hidden="true" class="header-anchor">#</a> 사용자 정의 DSL 만들기</h3> <p>사용자 정의 DSL을 만드는 방법을 이해하려면, 리시버를 사용하는 함수 타입에 대한 개념을 이해해야 한다.</p> <blockquote><p>책 참고</p></blockquote> <h3 id="언제-사용해야-할까"><a href="#언제-사용해야-할까" aria-hidden="true" class="header-anchor">#</a> 언제 사용해야 할까?</h3> <p>DSL 은 정보를 정의하는 방법을 제공한다.</p> <ul><li>복잡한 자료 구조</li> <li>계층적인 구조</li> <li>거대한 양의 데이터</li></ul> <p>많이 사용되는 반복되는 코드가 있고, 이를 간단하게 만들 수 있는 별도의 코틀린 기능이나 라이브러리가 없다면 DSL 사용을 고려해보아도 좋을것 같다.</p> <h3 id="정리-3"><a href="#정리-3" aria-hidden="true" class="header-anchor">#</a> 정리</h3> <p>DSL은 언어 내부에서 사용할 수 있는 특벼한 언어이다.</p> <p>복잡한 객체는 물론 HTML 코드, 복잡한 설정 등의 계층구조를 갖는 객체를 간단하게 표현할수 있게 해준다.</p> <p>잘 정의된 DSL은 프로젝트에 굉장히 큰 도움을 주지만, 좋은 DSL을 만드는 작업은 굉장히 힘이 든다.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/books/effective_kotlin/chapter_4.html" class="prev">
          Chapter 4 추상화 설계
        </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0531fef3.js" defer></script><script src="/assets/js/3.cdfcd112.js" defer></script><script src="/assets/js/145.1831054c.js" defer></script>
  </body>
</html>
