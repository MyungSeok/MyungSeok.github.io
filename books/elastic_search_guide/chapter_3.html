<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>03. 데이터 모델링 | 🌟 Sudal&#39;s gram</title>
    <meta name="description" content="정리공간">
    
    
    <link rel="preload" href="/assets/css/0.styles.128f439c.css" as="style"><link rel="preload" href="/assets/js/app.e0c1b151.js" as="script"><link rel="preload" href="/assets/js/3.cdfcd112.js" as="script"><link rel="preload" href="/assets/js/148.aa4ca994.js" as="script"><link rel="prefetch" href="/assets/js/10.65d12147.js"><link rel="prefetch" href="/assets/js/100.aa81f83c.js"><link rel="prefetch" href="/assets/js/101.1ae0164f.js"><link rel="prefetch" href="/assets/js/102.f8bd8a3d.js"><link rel="prefetch" href="/assets/js/103.b7a3ab17.js"><link rel="prefetch" href="/assets/js/104.aa972898.js"><link rel="prefetch" href="/assets/js/105.7a8aed47.js"><link rel="prefetch" href="/assets/js/106.c151b58c.js"><link rel="prefetch" href="/assets/js/107.153b6aa3.js"><link rel="prefetch" href="/assets/js/108.516b6004.js"><link rel="prefetch" href="/assets/js/109.285c083b.js"><link rel="prefetch" href="/assets/js/11.79894829.js"><link rel="prefetch" href="/assets/js/110.11df4f53.js"><link rel="prefetch" href="/assets/js/111.fff39680.js"><link rel="prefetch" href="/assets/js/112.a2497916.js"><link rel="prefetch" href="/assets/js/113.8a34b999.js"><link rel="prefetch" href="/assets/js/114.a3f93d1e.js"><link rel="prefetch" href="/assets/js/115.32aa71a9.js"><link rel="prefetch" href="/assets/js/116.eff9e9ad.js"><link rel="prefetch" href="/assets/js/117.88839d84.js"><link rel="prefetch" href="/assets/js/118.189f5dc4.js"><link rel="prefetch" href="/assets/js/119.2c6b7660.js"><link rel="prefetch" href="/assets/js/12.59e51b44.js"><link rel="prefetch" href="/assets/js/120.84468a09.js"><link rel="prefetch" href="/assets/js/121.bcaac8a8.js"><link rel="prefetch" href="/assets/js/122.e830a234.js"><link rel="prefetch" href="/assets/js/123.1cef6785.js"><link rel="prefetch" href="/assets/js/124.e9082eb1.js"><link rel="prefetch" href="/assets/js/125.09f2b475.js"><link rel="prefetch" href="/assets/js/126.08deaf71.js"><link rel="prefetch" href="/assets/js/127.a1908ce0.js"><link rel="prefetch" href="/assets/js/128.17780068.js"><link rel="prefetch" href="/assets/js/129.dbe825be.js"><link rel="prefetch" href="/assets/js/13.f4bdeb59.js"><link rel="prefetch" href="/assets/js/130.cbc5a416.js"><link rel="prefetch" href="/assets/js/131.44805419.js"><link rel="prefetch" href="/assets/js/132.c0d9bcc0.js"><link rel="prefetch" href="/assets/js/133.e405576e.js"><link rel="prefetch" href="/assets/js/134.d528b135.js"><link rel="prefetch" href="/assets/js/135.24c9cd9b.js"><link rel="prefetch" href="/assets/js/136.cb3d8e97.js"><link rel="prefetch" href="/assets/js/137.ae01b1ee.js"><link rel="prefetch" href="/assets/js/138.beb38166.js"><link rel="prefetch" href="/assets/js/139.c8d42f3a.js"><link rel="prefetch" href="/assets/js/14.1c18a6d1.js"><link rel="prefetch" href="/assets/js/140.7df5e17e.js"><link rel="prefetch" href="/assets/js/141.80aececa.js"><link rel="prefetch" href="/assets/js/142.a02d4fc2.js"><link rel="prefetch" href="/assets/js/143.3885ef03.js"><link rel="prefetch" href="/assets/js/144.57ae54a3.js"><link rel="prefetch" href="/assets/js/145.43dec06a.js"><link rel="prefetch" href="/assets/js/146.7de42b94.js"><link rel="prefetch" href="/assets/js/147.da2ce0ea.js"><link rel="prefetch" href="/assets/js/149.ea8f9042.js"><link rel="prefetch" href="/assets/js/15.c2ca4bb0.js"><link rel="prefetch" href="/assets/js/150.93942b45.js"><link rel="prefetch" href="/assets/js/151.6495b3e5.js"><link rel="prefetch" href="/assets/js/152.7818bf00.js"><link rel="prefetch" href="/assets/js/153.5791c061.js"><link rel="prefetch" href="/assets/js/154.303f5b87.js"><link rel="prefetch" href="/assets/js/155.dc22f022.js"><link rel="prefetch" href="/assets/js/156.a1432320.js"><link rel="prefetch" href="/assets/js/157.db62a8f8.js"><link rel="prefetch" href="/assets/js/158.b209afe2.js"><link rel="prefetch" href="/assets/js/159.75bce1f9.js"><link rel="prefetch" href="/assets/js/16.f6aec4de.js"><link rel="prefetch" href="/assets/js/160.299617fe.js"><link rel="prefetch" href="/assets/js/161.1d2a0995.js"><link rel="prefetch" href="/assets/js/162.dc64adbc.js"><link rel="prefetch" href="/assets/js/163.63ac7f98.js"><link rel="prefetch" href="/assets/js/164.41161bf8.js"><link rel="prefetch" href="/assets/js/165.0b945783.js"><link rel="prefetch" href="/assets/js/166.5343946e.js"><link rel="prefetch" href="/assets/js/167.6d746ddc.js"><link rel="prefetch" href="/assets/js/168.9d118349.js"><link rel="prefetch" href="/assets/js/169.b19b7bee.js"><link rel="prefetch" href="/assets/js/17.fb26b9e4.js"><link rel="prefetch" href="/assets/js/170.32681892.js"><link rel="prefetch" href="/assets/js/171.13b0b5b9.js"><link rel="prefetch" href="/assets/js/172.18b1a999.js"><link rel="prefetch" href="/assets/js/173.e9d12f32.js"><link rel="prefetch" href="/assets/js/174.b504cdab.js"><link rel="prefetch" href="/assets/js/175.01408552.js"><link rel="prefetch" href="/assets/js/176.123eb003.js"><link rel="prefetch" href="/assets/js/177.b7a59e85.js"><link rel="prefetch" href="/assets/js/178.9d05e275.js"><link rel="prefetch" href="/assets/js/179.d1e4ac44.js"><link rel="prefetch" href="/assets/js/18.ed618025.js"><link rel="prefetch" href="/assets/js/180.8f14dc73.js"><link rel="prefetch" href="/assets/js/181.9823a399.js"><link rel="prefetch" href="/assets/js/182.aab03ad4.js"><link rel="prefetch" href="/assets/js/183.5037bdc9.js"><link rel="prefetch" href="/assets/js/184.2171315f.js"><link rel="prefetch" href="/assets/js/185.3ea20bce.js"><link rel="prefetch" href="/assets/js/186.f5171d81.js"><link rel="prefetch" href="/assets/js/187.ce69dd0f.js"><link rel="prefetch" href="/assets/js/188.a07ae257.js"><link rel="prefetch" href="/assets/js/189.6d413e13.js"><link rel="prefetch" href="/assets/js/19.d777a841.js"><link rel="prefetch" href="/assets/js/190.0d4a8792.js"><link rel="prefetch" href="/assets/js/191.e0576696.js"><link rel="prefetch" href="/assets/js/192.965fe5a2.js"><link rel="prefetch" href="/assets/js/193.78029334.js"><link rel="prefetch" href="/assets/js/194.5f28868c.js"><link rel="prefetch" href="/assets/js/195.0150143f.js"><link rel="prefetch" href="/assets/js/196.9c1d2457.js"><link rel="prefetch" href="/assets/js/197.9ea81bd1.js"><link rel="prefetch" href="/assets/js/198.f4eac36b.js"><link rel="prefetch" href="/assets/js/199.c5e3a496.js"><link rel="prefetch" href="/assets/js/20.29033988.js"><link rel="prefetch" href="/assets/js/200.b53ee299.js"><link rel="prefetch" href="/assets/js/201.4d982a44.js"><link rel="prefetch" href="/assets/js/202.b25cd4f2.js"><link rel="prefetch" href="/assets/js/203.2bec180c.js"><link rel="prefetch" href="/assets/js/204.7758d43b.js"><link rel="prefetch" href="/assets/js/205.9f72625c.js"><link rel="prefetch" href="/assets/js/206.3d5efffd.js"><link rel="prefetch" href="/assets/js/207.5a1472f0.js"><link rel="prefetch" href="/assets/js/208.dc481bf4.js"><link rel="prefetch" href="/assets/js/209.0ae8f3ba.js"><link rel="prefetch" href="/assets/js/21.6bf0c251.js"><link rel="prefetch" href="/assets/js/210.e11067ab.js"><link rel="prefetch" href="/assets/js/211.91b1512a.js"><link rel="prefetch" href="/assets/js/212.0ffd8e2d.js"><link rel="prefetch" href="/assets/js/213.1742f624.js"><link rel="prefetch" href="/assets/js/214.d35bce5e.js"><link rel="prefetch" href="/assets/js/215.2d40a646.js"><link rel="prefetch" href="/assets/js/216.7b82f2d7.js"><link rel="prefetch" href="/assets/js/217.3bacd490.js"><link rel="prefetch" href="/assets/js/218.2baebc24.js"><link rel="prefetch" href="/assets/js/219.7a0a1fac.js"><link rel="prefetch" href="/assets/js/22.032b39e6.js"><link rel="prefetch" href="/assets/js/220.050528a7.js"><link rel="prefetch" href="/assets/js/221.51429ff4.js"><link rel="prefetch" href="/assets/js/222.574d2ca0.js"><link rel="prefetch" href="/assets/js/223.302fa64a.js"><link rel="prefetch" href="/assets/js/224.657f883e.js"><link rel="prefetch" href="/assets/js/225.05a03aa6.js"><link rel="prefetch" href="/assets/js/226.a40888dd.js"><link rel="prefetch" href="/assets/js/227.1d28a2e3.js"><link rel="prefetch" href="/assets/js/23.c29b5740.js"><link rel="prefetch" href="/assets/js/24.f536da55.js"><link rel="prefetch" href="/assets/js/25.885e4d9a.js"><link rel="prefetch" href="/assets/js/26.7531531e.js"><link rel="prefetch" href="/assets/js/27.49f5dd90.js"><link rel="prefetch" href="/assets/js/28.1efbce17.js"><link rel="prefetch" href="/assets/js/29.456ee80f.js"><link rel="prefetch" href="/assets/js/30.3117e044.js"><link rel="prefetch" href="/assets/js/31.de472f78.js"><link rel="prefetch" href="/assets/js/32.b9dad104.js"><link rel="prefetch" href="/assets/js/33.1e952da8.js"><link rel="prefetch" href="/assets/js/34.8a467664.js"><link rel="prefetch" href="/assets/js/35.99e9433d.js"><link rel="prefetch" href="/assets/js/36.725d6abf.js"><link rel="prefetch" href="/assets/js/37.5b7ccf61.js"><link rel="prefetch" href="/assets/js/38.ee165aa0.js"><link rel="prefetch" href="/assets/js/39.061075e7.js"><link rel="prefetch" href="/assets/js/4.69477812.js"><link rel="prefetch" href="/assets/js/40.5907744c.js"><link rel="prefetch" href="/assets/js/41.718f2408.js"><link rel="prefetch" href="/assets/js/42.45a16dce.js"><link rel="prefetch" href="/assets/js/43.ccccefc1.js"><link rel="prefetch" href="/assets/js/44.e563d2c1.js"><link rel="prefetch" href="/assets/js/45.1933afba.js"><link rel="prefetch" href="/assets/js/46.60f7b724.js"><link rel="prefetch" href="/assets/js/47.6626c94c.js"><link rel="prefetch" href="/assets/js/48.781f6cf4.js"><link rel="prefetch" href="/assets/js/49.8bb2c598.js"><link rel="prefetch" href="/assets/js/5.b2f7333a.js"><link rel="prefetch" href="/assets/js/50.f13db334.js"><link rel="prefetch" href="/assets/js/51.56229379.js"><link rel="prefetch" href="/assets/js/52.5bf16eb8.js"><link rel="prefetch" href="/assets/js/53.da02acc7.js"><link rel="prefetch" href="/assets/js/54.28f55e4c.js"><link rel="prefetch" href="/assets/js/55.59339b56.js"><link rel="prefetch" href="/assets/js/56.763e77d5.js"><link rel="prefetch" href="/assets/js/57.43472596.js"><link rel="prefetch" href="/assets/js/58.5acea7cb.js"><link rel="prefetch" href="/assets/js/59.4c618203.js"><link rel="prefetch" href="/assets/js/6.4db5de31.js"><link rel="prefetch" href="/assets/js/60.9870a2a5.js"><link rel="prefetch" href="/assets/js/61.922e02e9.js"><link rel="prefetch" href="/assets/js/62.9ac49508.js"><link rel="prefetch" href="/assets/js/63.1cf26d58.js"><link rel="prefetch" href="/assets/js/64.f4d688da.js"><link rel="prefetch" href="/assets/js/65.49febfb6.js"><link rel="prefetch" href="/assets/js/66.abd1cdc8.js"><link rel="prefetch" href="/assets/js/67.3d2d0189.js"><link rel="prefetch" href="/assets/js/68.d306dd73.js"><link rel="prefetch" href="/assets/js/69.3d25c1b2.js"><link rel="prefetch" href="/assets/js/7.e010d075.js"><link rel="prefetch" href="/assets/js/70.bf8ac2b5.js"><link rel="prefetch" href="/assets/js/71.11a3ba05.js"><link rel="prefetch" href="/assets/js/72.57b10873.js"><link rel="prefetch" href="/assets/js/73.3067af07.js"><link rel="prefetch" href="/assets/js/74.c825513a.js"><link rel="prefetch" href="/assets/js/75.31912616.js"><link rel="prefetch" href="/assets/js/76.7ab24307.js"><link rel="prefetch" href="/assets/js/77.f7404606.js"><link rel="prefetch" href="/assets/js/78.a26327c5.js"><link rel="prefetch" href="/assets/js/79.acb56d5c.js"><link rel="prefetch" href="/assets/js/8.b396ab2f.js"><link rel="prefetch" href="/assets/js/80.4ee52b52.js"><link rel="prefetch" href="/assets/js/81.114f0722.js"><link rel="prefetch" href="/assets/js/82.d79ddbcc.js"><link rel="prefetch" href="/assets/js/83.434a090b.js"><link rel="prefetch" href="/assets/js/84.da747c75.js"><link rel="prefetch" href="/assets/js/85.2bc516e9.js"><link rel="prefetch" href="/assets/js/86.072e06fa.js"><link rel="prefetch" href="/assets/js/87.9c434701.js"><link rel="prefetch" href="/assets/js/88.3f5a3ec2.js"><link rel="prefetch" href="/assets/js/89.00b57863.js"><link rel="prefetch" href="/assets/js/9.fe67ee6b.js"><link rel="prefetch" href="/assets/js/90.20985007.js"><link rel="prefetch" href="/assets/js/91.210f503c.js"><link rel="prefetch" href="/assets/js/92.a5ce4f19.js"><link rel="prefetch" href="/assets/js/93.21444991.js"><link rel="prefetch" href="/assets/js/94.9b004fdb.js"><link rel="prefetch" href="/assets/js/95.d836a87f.js"><link rel="prefetch" href="/assets/js/96.51d87fb1.js"><link rel="prefetch" href="/assets/js/97.f121402e.js"><link rel="prefetch" href="/assets/js/98.20afd513.js"><link rel="prefetch" href="/assets/js/99.7811c73c.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.e29dbb94.js">
    <link rel="stylesheet" href="/assets/css/0.styles.128f439c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/A049.png" alt="🌟 Sudal's gram" class="logo"> <span class="site-name can-hide">🌟 Sudal's gram</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/general/" class="nav-link">General</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/html/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/html/performance.html" class="nav-link">Performance</a></li><li class="dropdown-subitem"><a href="/frontend/html/canvas.html" class="nav-link">Canvas</a></li></ul></li><li class="dropdown-item"><h4>CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/css.html" class="nav-link">Tips</a></li></ul></li><li class="dropdown-item"><h4>Javascript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/javascript/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/reference/" class="nav-link">Reference</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/performance/" class="nav-link">Performance</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/framework/node/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/frontend/framework/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/frontend/framework/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/frontend/framework/angular.html" class="nav-link">Angular</a></li></ul></li><li class="dropdown-item"><h4>Library</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/library/jquery.html" class="nav-link">jQuery</a></li><li class="dropdown-subitem"><a href="/frontend/library/d3.html" class="nav-link">D3</a></li><li class="dropdown-subitem"><a href="/frontend/library/three.html" class="nav-link">THREE</a></li><li class="dropdown-subitem"><a href="/frontend/library/graphql.html" class="nav-link">Graph QL</a></li></ul></li><li class="dropdown-item"><h4>Etc</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/etc/flux.html" class="nav-link">Flux</a></li><li class="dropdown-subitem"><a href="/frontend/etc/graphql.html" class="nav-link">Graph QL</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Back End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Language</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/language/java/basic/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/backend/language/kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-subitem"><a href="/backend/language/php/" class="nav-link">PHP</a></li></ul></li><li class="dropdown-item"><h4>Server</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/backend/server/nginx/" class="nav-link">NGINX</a></li><li class="dropdown-subitem"><a href="/backend/server/tomcat/" class="nav-link">Tomcat</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/network/http/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/backend/network/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/network/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Database</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/backend/database/mssql/" class="nav-link">MSSQL</a></li><li class="dropdown-subitem"><a href="/backend/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/backend/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/backend/database/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/framework/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/backend/framework/jpa/" class="nav-link">JPA</a></li><li class="dropdown-subitem"><a href="/backend/framework/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/framework/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/devops/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/backend/devops/kubernetes.html" class="nav-link">Kubernetes</a></li><li class="dropdown-subitem"><a href="/backend/devops/git.html" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/backend/devops/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Big Data</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/bigdata/dw.html" class="nav-link">DW</a></li><li class="dropdown-subitem"><a href="/backend/bigdata/analytics.html" class="nav-link">Analytics</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Books</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/books/effective_java_3rd/chapter_1.html" class="nav-link">Effective Java 3rd</a></li><li class="dropdown-item"><!----> <a href="/books/effective_kotlin/chapter_1.html" class="nav-link">Effective Kotlin</a></li><li class="dropdown-item"><!----> <a href="/books/js_high_performance.html" class="nav-link">자바스크립트 성능 최적화</a></li><li class="dropdown-item"><!----> <a href="/books/clean_architecture.html" class="nav-link">클린 아키텍처</a></li><li class="dropdown-item"><!----> <a href="/books/elastic_search_guide/chapter_1.html" class="nav-link">엘라스틱서치 실무 가이드</a></li><li class="dropdown-item"><!----> <a href="/books/mastering_akka/" class="nav-link">아카를 이용한 마이크로서비스 개발</a></li><li class="dropdown-item"><!----> <a href="/books/programming_in_scala/" class="nav-link">Programming in Scala 4/e</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/general/" class="nav-link">General</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HTML</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/html/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/html/performance.html" class="nav-link">Performance</a></li><li class="dropdown-subitem"><a href="/frontend/html/canvas.html" class="nav-link">Canvas</a></li></ul></li><li class="dropdown-item"><h4>CSS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/css.html" class="nav-link">Tips</a></li></ul></li><li class="dropdown-item"><h4>Javascript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/javascript/general/" class="nav-link">General</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/reference/" class="nav-link">Reference</a></li><li class="dropdown-subitem"><a href="/frontend/javascript/performance/" class="nav-link">Performance</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/framework/node/" class="nav-link">Node</a></li><li class="dropdown-subitem"><a href="/frontend/framework/react/" class="nav-link">React</a></li><li class="dropdown-subitem"><a href="/frontend/framework/vue/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/frontend/framework/angular.html" class="nav-link">Angular</a></li></ul></li><li class="dropdown-item"><h4>Library</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/library/jquery.html" class="nav-link">jQuery</a></li><li class="dropdown-subitem"><a href="/frontend/library/d3.html" class="nav-link">D3</a></li><li class="dropdown-subitem"><a href="/frontend/library/three.html" class="nav-link">THREE</a></li><li class="dropdown-subitem"><a href="/frontend/library/graphql.html" class="nav-link">Graph QL</a></li></ul></li><li class="dropdown-item"><h4>Etc</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontend/etc/flux.html" class="nav-link">Flux</a></li><li class="dropdown-subitem"><a href="/frontend/etc/graphql.html" class="nav-link">Graph QL</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Back End</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Language</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/language/java/basic/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/backend/language/kotlin/" class="nav-link">Kotlin</a></li><li class="dropdown-subitem"><a href="/backend/language/php/" class="nav-link">PHP</a></li></ul></li><li class="dropdown-item"><h4>Server</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/server/linux/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/backend/server/nginx/" class="nav-link">NGINX</a></li><li class="dropdown-subitem"><a href="/backend/server/tomcat/" class="nav-link">Tomcat</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/network/http/" class="nav-link">HTTP</a></li><li class="dropdown-subitem"><a href="/backend/network/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/network/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Database</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/database/oracle/" class="nav-link">Oracle</a></li><li class="dropdown-subitem"><a href="/backend/database/mssql/" class="nav-link">MSSQL</a></li><li class="dropdown-subitem"><a href="/backend/database/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/backend/database/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/backend/database/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/framework/spring/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/backend/framework/jpa/" class="nav-link">JPA</a></li><li class="dropdown-subitem"><a href="/backend/framework/security/" class="nav-link">Security</a></li><li class="dropdown-subitem"><a href="/backend/framework/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/devops/docker/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/backend/devops/kubernetes.html" class="nav-link">Kubernetes</a></li><li class="dropdown-subitem"><a href="/backend/devops/git.html" class="nav-link">Git</a></li><li class="dropdown-subitem"><a href="/backend/devops/etc.html" class="nav-link">Etc</a></li></ul></li><li class="dropdown-item"><h4>Big Data</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/bigdata/dw.html" class="nav-link">DW</a></li><li class="dropdown-subitem"><a href="/backend/bigdata/analytics.html" class="nav-link">Analytics</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Books</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/books/effective_java_3rd/chapter_1.html" class="nav-link">Effective Java 3rd</a></li><li class="dropdown-item"><!----> <a href="/books/effective_kotlin/chapter_1.html" class="nav-link">Effective Kotlin</a></li><li class="dropdown-item"><!----> <a href="/books/js_high_performance.html" class="nav-link">자바스크립트 성능 최적화</a></li><li class="dropdown-item"><!----> <a href="/books/clean_architecture.html" class="nav-link">클린 아키텍처</a></li><li class="dropdown-item"><!----> <a href="/books/elastic_search_guide/chapter_1.html" class="nav-link">엘라스틱서치 실무 가이드</a></li><li class="dropdown-item"><!----> <a href="/books/mastering_akka/" class="nav-link">아카를 이용한 마이크로서비스 개발</a></li><li class="dropdown-item"><!----> <a href="/books/programming_in_scala/" class="nav-link">Programming in Scala 4/e</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/books/elastic_search_guide/chapter_1.html" class="sidebar-link">01. 검색 시스템 이해하기</a></li><li><a href="/books/elastic_search_guide/chapter_2.html" class="sidebar-link">02. 엘라스틱서치 살펴보기</a></li><li><a href="/books/elastic_search_guide/chapter_3.html" class="active sidebar-link">03. 데이터 모델링</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/elastic_search_guide/chapter_3.html#_3-1-매핑-api-이해하기" class="sidebar-link">3.1 매핑 API 이해하기</a></li><li class="sidebar-sub-header"><a href="/books/elastic_search_guide/chapter_3.html#_3-2-메타-필드" class="sidebar-link">3.2 메타 필드</a></li><li class="sidebar-sub-header"><a href="/books/elastic_search_guide/chapter_3.html#_3-3-필드-데이터-타입" class="sidebar-link">3.3 필드 데이터 타입</a></li><li class="sidebar-sub-header"><a href="/books/elastic_search_guide/chapter_3.html#_3-4-엘라스틱서치-분석기" class="sidebar-link">3.4 엘라스틱서치 분석기</a></li><li class="sidebar-sub-header"><a href="/books/elastic_search_guide/chapter_3.html#_3-5-document-api-이해하기" class="sidebar-link">3.5 Document API 이해하기</a></li></ul></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="_03-데이터-모델링"><a href="#_03-데이터-모델링" aria-hidden="true" class="header-anchor">#</a> 03. 데이터 모델링</h1> <p>엘라스틱 서치에서는 색인할 때 문서의 데이터 유형에 따라 필드에 적절한 데이터 타입을 지정하는것을 <strong>매핑</strong>이라 한다.</p> <p><strong>매핑</strong>은 색인될 문서의 데이터 모델링이라고 할 수 있다.</p> <p>사전에 매핑을 설정하면 자동으로 지정된 데이터 타입으로 색인되지만 매핑을 설정해 두지 않으면 엘라스틱 서치가 자동으로 필드를 생성하고 필드타입까지 결정한다.</p> <p>이는 예기치 않는 문제를 야기시킬수 있기 때문에 <strong>매핑</strong> 과정은 매우 중요한 과정이라 할 수 있다.</p> <h2 id="_3-1-매핑-api-이해하기"><a href="#_3-1-매핑-api-이해하기" aria-hidden="true" class="header-anchor">#</a> 3.1 매핑 API 이해하기</h2> <p><strong>매핑</strong>은 색인시 데이터가 어떻게 저장될지 결정하는 설정</p> <p>문서에서 존재하는 필드의 속성을 정의할 때 각 필드 속성에는 데이터 타입과 메타데이터가 포함되는데
이를 통해 색인 과정에서 문서가 역색인 (Inverted Index) 으로 변환되는지 상세하게 정의할 수 있다.</p> <p>엘라스틱은 기본적으로 스키마리스이기 때문에 자동으로 매핑정보가 생성된다.
또한 엘라스틱 서치는 수정이 불가하여 삭제하고 재생성해야 하기 때문에 이를 통해 장애가 발생할 수 있다.</p> <p>예시는 다음과 같다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 문서 1</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;movieCd&quot;</span><span class="token keyword">:</span> 20173732,
  <span class="token string">&quot;moiveNm&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;캡틴 아메리카&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment"># 문서 2</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;movieCd&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;XT001&quot;</span>,
  <span class="token string">&quot;moiveNm&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;아이언 맨&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>첫번째 문서를 매핑설정없이 색인하면 <code>moiveCd</code> 필드는 숫자 타입으로 매핑되지만 두번째 문서를 색인하면 <code>moiveCd</code> 값은 문자열이기 때문에 색인이 불가능하다.</p> <p>때문에 인덱스를 수정이 불가하니 삭제하고 다시 생성하거나 매핑을 다시 정의해야 한다.</p> <p>매핑정보를 설정할 때는 다음과 같은 사항을 고민해야 한다.</p> <ul><li>문자열을 분석할 것인가?</li> <li><code>_source</code> 에 어떤 필드를 정의할 것인가</li> <li>날짜 필드를 가지는 필드는 무엇인가</li> <li>매핑에 정의되지 않고 유입되는 필드는 어떻게 처리할 것인가?</li></ul> <h3 id="_3-1-1-매핑-인덱스-만들기"><a href="#_3-1-1-매핑-인덱스-만들기" aria-hidden="true" class="header-anchor">#</a> 3.1.1 매핑 인덱스 만들기</h3> <p>하기와 같이 매핑 인덱스 생성</p> <div class="language-bash extra-class"><pre class="language-bash"><code>PUT movie_search
<span class="token punctuation">{</span>
  <span class="token string">&quot;settings&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;number_of_shards&quot;</span><span class="token keyword">:</span> 5,
    <span class="token string">&quot;number_of_replicas&quot;</span><span class="token keyword">:</span> 1
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;mappings&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;properties&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;movieCd&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;movieNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;text&quot;</span>,
          <span class="token string">&quot;analyzer&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;standard&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;movieNmEn&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;text&quot;</span>,
          <span class="token string">&quot;analyzer&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;standard&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;prdtYear&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;integer&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;openDt&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;integer&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;typeNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;prdtStatNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;nationAlt&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;genreAlt&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;repNationNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;repGenreNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;companies&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;properties&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;companyCd&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;companyNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;directors&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;properties&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;peopleNm&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;keyword&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>결과는 다음과 같다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;acknowledged&quot;</span> <span class="token keyword">:</span> true,
  <span class="token string">&quot;shards_acknowledged&quot;</span> <span class="token keyword">:</span> true,
  <span class="token string">&quot;index&quot;</span> <span class="token keyword">:</span> <span class="token string">&quot;movie_search&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-1-2-매핑-확인"><a href="#_3-1-2-매핑-확인" aria-hidden="true" class="header-anchor">#</a> 3.1.2 매핑 확인</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>GET movie_search/_mapping
</code></pre></div><h3 id="_3-1-3-매핑-파라미터"><a href="#_3-1-3-매핑-파라미터" aria-hidden="true" class="header-anchor">#</a> 3.1.3 매핑 파라미터</h3> <p>매핑 파라미터는 색인할 필드의 데이터를 어떻게 저장할 것인지에 대한 다양한 옵션을 제공한다.</p> <ul><li>analyzer
<ul><li>해당 필드의 데이터를 형태소 분석하겠다는 의미</li> <li>text 데이터 타입의 필드는 analyzer 매핑 파라미터를 기본적으로 사용</li> <li>별도의 분석기 지정하지 않으면 Standard Analyzer로 형태소 분석</li></ul></li> <li>normalizer
<ul><li>term query에 분석기 사용하기 위해 사용</li> <li>일반적으로 대소문자를 구분하여 다른 문서로 인지하지만, normalizer를 통해 asciifolding 과 같은 필터를 사용해 하나의 문서로 인지할 수 있다.</li></ul></li> <li>boost
<ul><li>필드에 가중치 부여</li> <li>가중치에 따라 유사도 점수(_score)가 달라지기 때문에 설정 시 검색 결과의 노출 순서에 영향을 줌</li> <li>최근 엘라스틱서치는 색인 시 boost 설정을 할 수 없도록 바뀜</li></ul></li> <li>coerce
<ul><li>색인 시 자동 변환을 허용할지 여부를 설정</li> <li>ex) “10”과 같은 숫자 형태의 문자열이 integer 타입의 필드에 들어오면 엘라스틱서치는 자동으로 형변환을 수행해 정상적으로 처리. 하지만, coerce 설정 미사용 하면 색인에 실패</li></ul></li> <li>copy_to
<ul><li>매핑 파라미터를 추가한 필드의 값을 지정한 필드로 복사</li> <li>ex) keyword 타입 필드에 copy_to 매핑 파라미터 사용해 다른 필드로 값을 복사하면 복사된 필드에서는 text 타입을 지정할 수 있음</li> <li>여러 개의 필드 데이터를 하나의 필드에 모아서 전체 검색 용도로 사용 (_all 칼럼과 동일한 기능)</li></ul></li> <li>fielddata
<ul><li>엘라스틱서치가 힙 공간에 생성하는 메모리 캐시</li> <li>반복적인 메모리 부족 현상과 잦은 GC로 현재는 거의 사용되지 않음  -&gt; 최신 버전에서는 doc_values 라는 새로운 형태의 캐시 제공</li> <li>부득이하게 text 타입 필드에서 사용할 수 있지만, 최소한으로만 사용해야 함</li></ul></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>PUT movie_search_mapping/_mapping
<span class="token punctuation">{</span>
  <span class="token string">&quot;properties&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;nationAltEn&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;text&quot;</span>,
      <span class="token string">&quot;fielddata&quot;</span><span class="token keyword">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;acknowledged&quot;</span> <span class="token keyword">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>doc_values
<ul><li>엘라스틱서치에서 사용하는 기본 캐시 -&gt; 루씬을 기반으로 하는 캐시 방식</li> <li>text 타입을 제외한 모든 타입에서 기본적으로 사용</li> <li>필드를 정렬, 집계할 필요 없고 스크립트에서 필드 값에 액세스할 필요 없다면 디스크 공간 절약을 위해 doc_values 비활성화 가능하지만, 한 번 비활성화 된 필드는 인덱스를 재색인하지 않는 한 변경이 불가능함.</li></ul></li> <li>dynamic
<ul><li>매핑에 필드를 추가할 때 동적으로 생성할 지, 생성하지 않을지 결정</li> <li>옵션 (p.71 표3.2)</li></ul></li> <li>enabled
<ul><li>검색 결과에는 포함하지만 색인은 하고 싶지 않는 경우 사용</li></ul></li> <li>format
<ul><li>엘라스틱 서치는 날짜/시간을 문자열로 표시함. 미리 구성된 포맷을 사용 가능.</li> <li>p72 표3.3 참고</li></ul></li> <li>ignore_above
<ul><li>필드에 저장되는 문자열이 지정한 크기를 넘어서면 빈 값으로 색인함</li> <li>지정한 크기만큼만 색인되는 것이 아니라 빈 값으로 저장되므로 주의 필요</li></ul></li> <li>ignore_malformed
<ul><li>잘못된 데이터 타입을 색인하려고 하면 예외 발생하고 전부 색인되지 않음</li> <li>해당 매핑 파라미터 사용하면 해당 필드만 무시하고 문서는 색인 가능</li></ul></li> <li>index
<ul><li>필드값을 색인할지를 결정</li> <li>기본값은 true</li></ul></li> <li>fields
<ul><li>다중 필드를 설정할 수 있는 옵션</li> <li>필드 안에 또 다른 필드 정보를 추가할 수 있어 같은 string 값을 각각 다른 분석기로 처리하도록 설정 가능</li></ul></li></ul> <p>요청  (_doc 제거 후 실행)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>PUT movie_search_mapping  
<span class="token punctuation">{</span>
  <span class="token string">&quot;mappings&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;_doc&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;properties&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;awards&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;text&quot;</span>,
          <span class="token string">&quot;fields&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;name&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span>  <span class="token string">&quot;keyword&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>결과 ---&gt; error 남 (확인 필요)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;error&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;root_cause&quot;</span><span class="token keyword">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;illegal_argument_exception&quot;</span>,
        <span class="token string">&quot;reason&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;The mapping definition cannot be nested under a type [_doc] unless include_type_name is set to true.&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>,
    <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;illegal_argument_exception&quot;</span>,
    <span class="token string">&quot;reason&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;The mapping definition cannot be nested under a type [_doc] unless include_type_name is set to true.&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;status&quot;</span><span class="token keyword">:</span> 400
<span class="token punctuation">}</span>
</code></pre></div><p>결과 --&gt; error 안났을 때</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;acknowledged&quot;</span> <span class="token keyword">:</span> true,
  <span class="token string">&quot;shards_acknowledged&quot;</span> <span class="token keyword">:</span> true,
  <span class="token string">&quot;index&quot;</span> <span class="token keyword">:</span> <span class="token string">&quot;moive_search_mapping&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>norms</p> <ul><li>문서의 _score 값 계산에 필요한 정규화 인수를 사용할 지 여부를 설정</li> <li>기본값은 true</li></ul></li> <li><p>null_value</p> <ul><li>색인 시 문서에 필드가 없거나 필드의 값이 null이면 색인 시 필드를 생성하지 않음</li> <li>null_value 설정 시 문서의 값이 null이어도 필드를 생성 및 해당하는 값으로 저장</li></ul></li></ul> <p>요청</p> <div class="language-bash extra-class"><pre class="language-bash"><code>PUT movie_search_mapping/_mapping/_doc
<span class="token punctuation">{</span>
  <span class="token string">&quot;properties&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;audiCnt&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;integer&quot;</span>,
          <span class="token string">&quot;null_value&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>결과 ---&gt; 역시 error</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;error&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;root_cause&quot;</span><span class="token keyword">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;illegal_argument_exception&quot;</span>,
        <span class="token string">&quot;reason&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;Types cannot be provided in put mapping requests, unless the include_type_name parameter is set to true.&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>,
    <span class="token string">&quot;type&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;illegal_argument_exception&quot;</span>,
    <span class="token string">&quot;reason&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;Types cannot be provided in put mapping requests, unless the include_type_name parameter is set to true.&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;status&quot;</span><span class="token keyword">:</span> 400
<span class="token punctuation">}</span>
</code></pre></div><p>결과</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;acknowledged&quot;</span> <span class="token keyword">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>position_increment_gap
<ul><li>배열 형태의 데이터를 색인 시 검색의 정확도를 높이기 위해 제공하는 옵션</li> <li>필드 데이터 중 단어와 단어 사이의 간격을 허용할 지 설정</li></ul></li> <li>properties
<ul><li>오브젝트 타입이나 중첩 타입의 스키마를 정의할 때 사용되는 옵션으로 필드의 타입을 매핑</li></ul></li> <li>search_analyzer
<ul><li>일반적으로는 색인과 검색 시 같은 분석기를 사용하지만, 다른 분석기를 사용하고 싶은 경우 별도 지정을 하기 위한 타입</li></ul></li> <li>similarity
<ul><li>유사도 측정 알고리즘을 지정</li> <li>기본 알고리즘인 BM25에서 다른 알고리즘으로 변경 가능</li> <li>p75 표3.4 참고</li></ul></li> <li>store
<ul><li>필드의 값을 저장해 검색 결과에 값을 포함하기 위한 매핑 파라미터</li> <li>기본적으로 _source에 색인된 문서가 저장되지만 store 매핑 파라미터를 사용하면 해당 필드를 자체적으로 저장 가능함 ( 대신 디스크를 더 많이 사용 )</li></ul></li> <li>term_vector
<ul><li>루씬에서 분석된 용어의 정보를 포함할지 여부를 결정</li></ul></li></ul> <h2 id="_3-2-메타-필드"><a href="#_3-2-메타-필드" aria-hidden="true" class="header-anchor">#</a> 3.2 메타 필드</h2> <h2 id="_3-3-필드-데이터-타입"><a href="#_3-3-필드-데이터-타입" aria-hidden="true" class="header-anchor">#</a> 3.3 필드 데이터 타입</h2> <h2 id="_3-4-엘라스틱서치-분석기"><a href="#_3-4-엘라스틱서치-분석기" aria-hidden="true" class="header-anchor">#</a> 3.4 엘라스틱서치 분석기</h2> <h2 id="_3-5-document-api-이해하기"><a href="#_3-5-document-api-이해하기" aria-hidden="true" class="header-anchor">#</a> 3.5 Document API 이해하기</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/books/elastic_search_guide/chapter_2.html" class="prev">
          02. 엘라스틱서치 살펴보기
        </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e0c1b151.js" defer></script><script src="/assets/js/3.cdfcd112.js" defer></script><script src="/assets/js/148.aa4ca994.js" defer></script>
  </body>
</html>
